import{a as p,b as P,g as x,m as f,d as A,s as V,p as w,_ as B,R as E}from"./getRenderLoop-C12lOm9E.js";import{C as h,D as R}from"./index-CiXOo70t.js";import{d as b,o as z,f as D,w as N,n as T,a as U,b as $,_ as k}from"./index-C_69i0rk.js";const G=({position:e,velocity:i,acceleration:o})=>({position:p(e,i),velocity:p(i,o),acceleration:o}),c={speed:1.4,particleSize:20,decelerationCoefficient:.99,pointsCount:500},I=({canvas:e,scale:i=R})=>{const o=e.getContext("2d");P(o);let n=[],l=[e.width/2,e.height/2];const r=c.particleSize/2,_=()=>{o.fillStyle=h.DARK,o.fillRect(0,0,e.width,e.height)},g=t=>{const s=t.position[0]+r>=e.width&&t.velocity[0]>0||t.position[0]-r<0&&t.velocity[0]<0,u=t.position[1]+r>=e.height&&t.velocity[1]>0||t.position[1]-r<0&&t.velocity[1]<0;return{x:s,y:u}},C=({position:t,velocity:s})=>{const u=A(V(l,t)),a=G({position:t,acceleration:w(c.speed,u),velocity:f(s,c.decelerationCoefficient)}),m=g(a);return m.x&&(a.velocity[0]*=-1),m.y&&(a.velocity[1]*=-1),a},M=()=>{n=n.map(C)},S=t=>{n=[];for(let s=0;s<t;s+=1)n.push({position:[e.width*Math.random(),e.height*Math.random()],velocity:[Math.random()*10-5,Math.random()*10-5],acceleration:[0,0]})},{run:v,stop:O}=x(()=>{_(),M(),o.fillStyle=h.LIGHT,n.forEach(({position:[t,s]})=>{o.beginPath(),o.arc(t,s,r,0,Math.PI*2),o.fill()})}),L=()=>{S(c.pointsCount),v()},d=({offsetX:t,offsetY:s})=>{l=f([t,s],i)};return e.addEventListener("mousemove",d),L(),{cleanup:()=>{O(),e.removeEventListener("mousemove",d)}}},y=2,F=b({__name:"gravity-simulator",setup(e){let i;const o=n=>{i=I({canvas:n,scale:y})};return z(()=>{i.cleanup()}),(n,l)=>($(),D(B,{class:T(n.$style.root)},{default:N(({size:r})=>[U(E,{size:r,scale:y,onMounted:o},null,8,["size"])]),_:1},8,["class"]))}}),H="_root_100g2_1",K={root:H},X={$style:K},Q=k(F,[["__cssModules",X]]);export{Q as default};
